# Zensei Flappy Bird

เกมตัวอย่างนี้อธิบายโครงสร้าง Flappy Bird แบบเข้าใจง่าย เหมาะสำหรับผู้ที่อยากเริ่มต้นสร้างเกม 2D โดยยังไม่ต้องลงลึกด้านการเขียนโปรแกรมมากนัก เน้นทำความเข้าใจไอเดียและขั้นตอนหลักของเกม

## ภาพรวมของเกม
- **เป้าหมาย**: พา Player (ตัวละครที่เป็นนก) บินผ่านช่องว่างระหว่างท่อให้ได้ไกลที่สุด
- **วิธีควบคุม**: กด Space, ลูกศรขึ้น หรือปุ่ม X เพื่อให้ตัวละครกระโดดขึ้น ฝืนแรงโน้มถ่วงไม่ให้ตก
- **กติกาแพ้**: ถ้าชนท่อหรือหลุดจากขอบล่างของหน้าจอ เกมจะจบลงและเริ่มใหม่ในทันทีที่กดกระโดดอีกครั้ง

## องค์ประกอบสำคัญ
- **Game Board (Canvas)**: พื้นที่สี่เหลี่ยมที่เราวาดทุกอย่างลงไปในแต่ละเฟรม คิดเสียว่าเป็นกระดาษที่ปรับรูปภาพใหม่ตลอดเวลา
- **Player (นก)**: ตัวละครหลักที่ผู้เล่นควบคุม มีข้อมูลตำแหน่ง แนวสูง-แนวนอน ขนาดภาพ และความเร็วในแนวตั้ง
- **Pipes (ท่อ)**: สิ่งกีดขวางที่สุ่มความสูง แล้วเลื่อนจากขวาไปซ้ายอย่างต่อเนื่อง เกิดเป็นช่องเปิดให้บินผ่าน
- **Score (คะแนน)**: ทุกครั้งที่ Player บินผ่านช่องระหว่างท่อหนึ่งคู่จะได้ 1 คะแนน

## วัฏจักรของเกม (Game Loop)
1. เคลียร์ภาพเฟรมเก่าออกจาก Canvas
2. อัปเดตการเคลื่อนที่ของ Player โดยคำนวณแรงโน้มถ่วงและการกดปุ่มกระโดด
3. ขยับท่อทุกชิ้นไปทางซ้าย วาดท่อและ Player ใหม่
4. ตรวจสอบว่าผ่านท่อเพื่อเพิ่มคะแนนหรือไม่
5. ตรวจสอบการชน หากชนให้ตั้งสถานะว่าเกมจบ
6. ขอให้เบราว์เซอร์เรียกขั้นตอนนี้ซ้ำในเฟรมถัดไป (ช่วยให้เกมดูมีอนิเมชัน)

## ฟิสิกส์และการควบคุม
- ทุกเฟรมจะเพิ่มค่าความเร็วแนวตั้ง (`velocityY`) ด้วยแรงโน้มถ่วง จึงทำให้ตัวละครค่อยๆ ตกลง
- เมื่อผู้เล่นกดปุ่มกระโดด ระบบจะตั้ง `velocityY` เป็นค่าลบ ทำให้ตัวละครดีดตัวขึ้น
- ค่าแรงโน้มถ่วงและค่ากระโดดสามารถปรับได้ เพื่อกำหนดความยากง่ายของเกม

## ไฟล์สำคัญในโปรเจกต์
- `index.html` – สร้างหน้าเว็บและพื้นที่ Canvas
- `flappy.css` – ตั้งรูปแบบการแสดงผล เช่น ฟอนต์และพื้นหลัง
- `flappy.js` – เก็บตรรกะของเกมทั้งหมด ทั้งการโหลดภาพ การควบคุม Player และการสร้างท่อ
- `assets/` – โฟลเดอร์ภาพประกอบ เช่น พื้นหลัง ตัวละคร และท่อ

## ลำดับการทำงานของโค้ด (เข้าใจแบบตรรกะ)
1. **เริ่มต้น**: เมื่อหน้าเว็บโหลดเสร็จ จะเชื่อมกับ Canvas โหลดภาพ และตั้งตัวจับเหตุการณ์สำหรับปุ่มกด
2. **ลูปเกม**: ฟังก์ชัน `update()` รันซ้ำเองตลอดเวลาเพื่อขยับวัตถุและวาดภาพใหม่
3. **สร้างท่อ**: ฟังก์ชัน `placePipes()` ถูกเรียกตามเวลา ทำหน้าที่สุ่มตำแหน่งและเพิ่มท่อคู่ใหม่เข้าอาร์เรย์
4. **รับอินพุต**: ฟังก์ชัน `moveBird()` ฟังการกดปุ่มและสั่งให้ Player กระโดด หรือรีเซ็ตเกมเมื่อจบ
5. **ตรวจการชน**: ฟังก์ชัน `detectCollision()` ตรวจว่ากล่องสี่เหลี่ยมของ Player ซ้อนกับท่อหรือไม่ เพื่อตัดสินแพ้-ชนะ

## ไอเดียต่อยอด
1. เปลี่ยนภาพ Player หรือสิ่งกีดขวางเพื่อสร้างธีมใหม่
2. ปรับค่าแรงโน้มถ่วงหรือความเร็วท่อเพื่อเพิ่ม/ลดความยาก
3. เพิ่มระบบนับชีวิต เก็บเหรียญ หรือหน้าต่างคะแนนสูงสุด (High Score)
4. ทดลองเพิ่มเสียงหรือเอฟเฟ็กต์เมื่อกระโดดและเมื่อเกมจบ

การเข้าใจโครงสร้างพื้นฐานเหล่านี้ช่วยให้ต่อยอดสู่เกมอื่นได้ง่ายขึ้น เพราะหลายเกมใช้แนวคิดคล้ายกัน เช่น มีลูปหลัก มี Player คุมผ่านอินพุต และมีสิ่งกีดขวางหรือเป้าหมายให้ทำสำเร็จ

## TODO
- [ ] เพิ่มแอนิเมชันตัวละคร (เช่น ตีปีกหรือเปลี่ยนเฟรมภาพในทุกการกระโดด)
- [ ] เพิ่มเสียงประกอบและเอฟเฟกต์ (กระโดด, ชน, ได้คะแนน)